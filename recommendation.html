<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºèƒ½æ¨è–¦ç³»çµ± - SweetCraft AI</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .recommendation-hero {
            background: linear-gradient(135deg, #d4c5a9 0%, #b8a082 50%, #a0845c 100%);
            padding: 8rem 2rem 4rem;
            text-align: center;
            color: white;
        }

        .recommendation-hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #fff, #f4e5d3);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .main-content {
            background: #f8f9fa;
            min-height: 100vh;
            padding: 2rem 0;
        }

        .filter-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .ai-status {
            background: linear-gradient(145deg, #fff, #f0f0f0);
            padding: 2rem;
            border-radius: 20px;
            margin-bottom: 2rem;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .ai-status.processing {
            background: linear-gradient(145deg, #8b4513, #a0845c);
            color: white;
            animation: pulse 2s infinite;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
            margin: 1rem 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #8b4513, #a0845c);
            width: 0%;
            transition: width 0.5s ease;
        }

        .filter-section {
            background: white;
            padding: 2rem;
            border-radius: 20px;
            margin-bottom: 2rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .filter-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .filter-group h4 {
            color: #333;
            margin-bottom: 1rem;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .option-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.8rem;
        }

        .option-tag {
            background: #f0f0f0;
            color: #666;
            padding: 0.7rem 1.2rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .option-tag::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #ff6b6b, #ffd93d);
            transition: left 0.3s ease;
            z-index: -1;
        }

        .option-tag:hover {
            background: #e0e0e0;
            transform: translateY(-2px);
        }

        .option-tag.selected {
            background: #ff6b6b;
            color: white;
            border-color: #ff6b6b;
            transform: translateY(-2px);
        }

        .option-tag.selected::before {
            left: 0;
        }

        .option-tag.allergen.selected {
            background: #dc3545;
            border-color: #dc3545;
        }

        .option-tag.alcohol.selected {
            background: #6f42c1;
            border-color: #6f42c1;
        }

        .generate-section {
            text-align: center;
            margin: 3rem 0;
        }

        .generate-btn {
            background: linear-gradient(45deg, #8b4513, #a0845c);
            color: white;
            padding: 1.5rem 3rem;
            border: none;
            border-radius: 50px;
            font-size: 1.3rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(139, 69, 19, 0.3);
        }

        .generate-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(139, 69, 19, 0.4);
        }

        .generate-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .results-section {
            display: none;
            margin-top: 3rem;
        }

        .results-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .results-stats {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .stat-item {
            background: white;
            padding: 1rem 2rem;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #8b4513;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #666;
        }

        .no-results {
            text-align: center;
            padding: 3rem;
            background: white;
            border-radius: 20px;
            color: #666;
        }

        .filter-summary {
            background: linear-gradient(145deg, #e3f2fd, #f3e5f5);
            padding: 1.5rem;
            border-radius: 15px;
            margin-bottom: 2rem;
        }

        .filter-summary h4 {
            color: #333;
            margin-bottom: 1rem;
        }

        .selected-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .selected-filter {
            background: #8b4513;
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .remove-filter {
            cursor: pointer;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .recommendation-hero h1 {
                font-size: 2rem;
            }
            
            .filter-grid {
                grid-template-columns: 1fr;
            }
            
            .results-stats {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="nav">
            <div class="logo">ğŸ° SweetCraft AI</div>
            <ul class="nav-links">
                <li><a href="index.html">é¦–é </a></li>
                <li><a href="#features">åŠŸèƒ½ç‰¹è‰²</a></li>
                <li><a href="#pricing">æ–¹æ¡ˆåƒ¹æ ¼</a></li>
                <li><a href="recommendation.html">æ™ºèƒ½æ¨è–¦</a></li>
            </ul>
            <div class="user-actions">
                <div id="userInfo" class="user-info" style="display: none;">
                    <span id="userName"></span>
                    <span id="userPlan" class="user-plan"></span>
                    <button class="logout-btn" onclick="logout()">ç™»å‡º</button>
                </div>
                <button id="loginBtn" class="login-btn" onclick="openModal('loginModal')">ç™»å…¥ / è¨»å†Š</button>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="recommendation-hero">
        <h1>ğŸ¤– AIæ™ºèƒ½æ¨è–¦ç³»çµ±</h1>
        <p>å‘Šè¨´æˆ‘å€‘ä½ çš„å–œå¥½ï¼ŒAIç‚ºä½ æ‰¾åˆ°å®Œç¾çš„ç”œé»é…æ–¹</p>
    </section>

    <!-- Main Content -->
    <main class="main-content">
        <div class="filter-container">
            <!-- AI Status -->
            <div id="aiStatus" class="ai-status">
                <h3>ğŸ¯ è¨­å®šä½ çš„åå¥½ï¼Œé–‹å§‹æ™ºèƒ½æ¨è–¦</h3>
                <p>é¸æ“‡ä½ å–œæ­¡çš„ç”œåº¦ã€å£æ„Ÿã€é¡å‹ç­‰æ¢ä»¶ï¼ŒAIæœƒç‚ºä½ æ¨è–¦æœ€é©åˆçš„é£Ÿè­œ</p>
                <div class="progress-bar" style="display: none;">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>

            <!-- Filter Summary -->
            <div id="filterSummary" class="filter-summary" style="display: none;">
                <h4>ğŸ“‹ å·²é¸æ“‡çš„æ¢ä»¶</h4>
                <div class="selected-filters" id="selectedFilters"></div>
            </div>

            <!-- Filters -->
            <div class="filter-section">
                <h3 style="text-align: center; margin-bottom: 2rem; color: #333;">ğŸ¨ å®¢è£½åŒ–ä½ çš„ç”œé»åå¥½</h3>
                <div class="filter-grid">
                    <!-- ç”œåº¦ -->
                    <div class="filter-group">
                        <h4>ğŸ¯ ç”œåº¦åå¥½</h4>
                        <div class="option-tags">
                            <div class="option-tag" data-filter="sweetness" data-value="æ¸…æ·¡">æ¸…æ·¡ç”œå‘³</div>
                            <div class="option-tag" data-filter="sweetness" data-value="å¾®ç”œ">å¾®ç”œæ€¡äºº</div>
                            <div class="option-tag" data-filter="sweetness" data-value="ä¸­ç”œ">æ¨™æº–ç”œåº¦</div>
                            <div class="option-tag" data-filter="sweetness" data-value="é«˜ç”œ">æ¿ƒéƒç”œå‘³</div>
                        </div>
                    </div>

                    <!-- é›£åº¦ -->
                    <div class="filter-group">
                        <h4>â­ è£½ä½œé›£åº¦</h4>
                        <div class="option-tags">
                            <div class="option-tag" data-filter="difficulty" data-value="ç°¡å–®">æ–°æ‰‹å‹å–„</div>
                            <div class="option-tag" data-filter="difficulty" data-value="ä¸­ç­‰">é©ä¸­æŒ‘æˆ°</div>
                            <div class="option-tag" data-filter="difficulty" data-value="å›°é›£">é€²éšæŒ‘æˆ°</div>
                        </div>
                    </div>

                    <!-- é¡å‹ -->
                    <div class="filter-group">
                        <h4>ğŸ§ ç”œé»é¡å‹</h4>
                        <div class="option-tags">
                            <div class="option-tag" data-filter="category" data-value="é¤…ä¹¾">é¤…ä¹¾</div>
                            <div class="option-tag" data-filter="category" data-value="è›‹ç³•">è›‹ç³•</div>
                            <div class="option-tag" data-filter="category" data-value="æ…•æ–¯">æ…•æ–¯</div>
                            <div class="option-tag" data-filter="category" data-value="å¸ƒä¸">å¸ƒä¸</div>
                            <div class="option-tag" data-filter="category" data-value="å¡”">å¡”é¡</div>
                            <div class="option-tag" data-filter="category" data-value="å¸åº·">å¸åº·</div>
                            <div class="option-tag" data-filter="category" data-value="é¦¬å¡é¾">é¦¬å¡é¾</div>
                            <div class="option-tag" data-filter="category" data-value="èˆ’èŠ™è•¾">èˆ’èŠ™è•¾</div>
                        </div>
                    </div>

                    <!-- å£æ„Ÿ -->
                    <div class="filter-group">
                        <h4>ğŸ˜‹ å£æ„Ÿåå¥½</h4>
                        <div class="option-tags">
                            <div class="option-tag" data-filter="texture" data-value="é…¥è„†">é…¥è„†</div>
                            <div class="option-tag" data-filter="texture" data-value="é¬†è»Ÿ">é¬†è»Ÿ</div>
                            <div class="option-tag" data-filter="texture" data-value="ç¶¿å¯†">ç¶¿å¯†</div>
                            <div class="option-tag" data-filter="texture" data-value="æ»‘å«©">æ»‘å«©</div>
                            <div class="option-tag" data-filter="texture" data-value="è¼•ç›ˆ">è¼•ç›ˆ</div>
                            <div class="option-tag" data-filter="texture" data-value="å¤–é…¥å…§è»Ÿ">å¤–é…¥å…§è»Ÿ</div>
                            <div class="option-tag" data-filter="texture" data-value="å±¤æ¬¡è±å¯Œ">å±¤æ¬¡è±å¯Œ</div>
                            <div class="option-tag" data-filter="texture" data-value="å¤–å›ºå…§æµ">å¤–å›ºå…§æµ</div>
                        </div>
                    </div>

                    <!-- é…’ç²¾ -->
                    <div class="filter-group">
                        <h4>ğŸ· é…’ç²¾åå¥½</h4>
                        <div class="option-tags">
                            <div class="option-tag alcohol" data-filter="alcohol" data-value="false">ç„¡é…’ç²¾</div>
                            <div class="option-tag alcohol" data-filter="alcohol" data-value="true">å«é…’ç²¾OK</div>
                        </div>
                    </div>

                    <!-- éæ•åŸ -->
                    <div class="filter-group">
                        <h4>âš ï¸ éœ€è¦é¿å…çš„éæ•åŸ</h4>
                        <div class="option-tags">
                            <div class="option-tag allergen" data-filter="allergens" data-value="éº©è³ª">éº©è³ª</div>
                            <div class="option-tag allergen" data-filter="allergens" data-value="ä¹³è£½å“">ä¹³è£½å“</div>
                            <div class="option-tag allergen" data-filter="allergens" data-value="è›‹">é›è›‹</div>
                            <div class="option-tag allergen" data-filter="allergens" data-value="å …æœ">å …æœ</div>
                            <div class="option-tag allergen" data-filter="allergens" data-value="å¤§è±†">å¤§è±†</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Generate Button -->
            <div class="generate-section">
                <button id="generateBtn" class="generate-btn" onclick="generateRecommendations()">
                    ğŸ¯ é–‹å§‹AIæ™ºèƒ½æ¨è–¦
                </button>
                <p style="margin-top: 1rem; color: #666;">
                    ğŸ’¡ æœªç™»å…¥ç”¨æˆ¶å¯æŸ¥çœ‹æ¨è–¦çµæœï¼Œç™»å…¥å¾Œå¯æŸ¥çœ‹å®Œæ•´é£Ÿè­œå…§å®¹
                </p>
            </div>

            <!-- Results Section -->
            <div id="resultsSection" class="results-section">
                <div class="results-header">
                    <h2>ğŸŒŸ AIç‚ºä½ æ¨è–¦</h2>
                    <p>åŸºæ–¼ä½ çš„åå¥½ï¼Œä»¥ä¸‹æ˜¯æœ€é©åˆçš„ç”œé»é…æ–¹</p>
                </div>

                <div class="results-stats">
                    <div class="stat-item">
                        <div class="stat-value" id="totalResults">0</div>
                        <div class="stat-label">æ‰¾åˆ°é…æ–¹</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="avgTime">0</div>
                        <div class="stat-label">å¹³å‡æ™‚é–“(åˆ†é˜)</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="avgPrice">0</div>
                        <div class="stat-label">å¹³å‡åƒ¹æ ¼(å…ƒ)</div>
                    </div>
                </div>

                <div id="recommendationResults" class="recipe-grid">
                    <!-- Results will be inserted here -->
                </div>

                <div id="noResults" class="no-results" style="display: none;">
                    <h3>ğŸ˜… æ‰¾ä¸åˆ°ç¬¦åˆæ¢ä»¶çš„é£Ÿè­œ</h3>
                    <p>è©¦è©¦èª¿æ•´ä¸€ä¸‹æ¢ä»¶ï¼Œæˆ–è€…å‘Šè¨´æˆ‘å€‘ä½ æƒ³è¦çš„é£Ÿè­œé¡å‹ï¼Œæˆ‘å€‘æœƒå„ªå…ˆé–‹ç™¼ï¼</p>
                    <button class="cta-button" onclick="resetFilters()">é‡æ–°è¨­å®šæ¢ä»¶</button>
                </div>
            </div>
        </div>
    </main>

    <!-- Modals (same as main page) -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('loginModal')">&times;</span>
            <h2>æœƒå“¡ç™»å…¥</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label for="email">é›»å­éƒµä»¶</label>
                    <input type="email" id="email" required>
                </div>
                <div class="form-group">
                    <label for="password">å¯†ç¢¼</label>
                    <input type="password" id="password" required>
                </div>
                <button type="submit" class="cta-button full-width">ç™»å…¥</button>
            </form>
            <p class="text-center">
                é‚„æ²’æœ‰å¸³è™Ÿï¼Ÿ<a href="#" onclick="closeModal('loginModal'); openModal('registerModal');">ç«‹å³è¨»å†Š</a>
            </p>
        </div>
    </div>

    <div id="registerModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('registerModal')">&times;</span>
            <h2>æœƒå“¡è¨»å†Š</h2>
            <form id="registerForm">
                <div class="form-group">
                    <label for="regName">å§“å</label>
                    <input type="text" id="regName" required>
                </div>
                <div class="form-group">
                    <label for="regEmail">é›»å­éƒµä»¶</label>
                    <input type="email" id="regEmail" required>
                </div>
                <div class="form-group">
                    <label for="regPassword">å¯†ç¢¼</label>
                    <input type="password" id="regPassword" required>
                </div>
                <div class="form-group">
                    <label for="experience">çƒ˜ç„™ç¶“é©—</label>
                    <select id="experience">
                        <option value="beginner">å®Œå…¨æ–°æ‰‹</option>
                        <option value="some">ç•¥æœ‰ç¶“é©—</option>
                        <option value="intermediate">æœ‰ä¸€å®šåŸºç¤</option>
                        <option value="advanced">è³‡æ·±æ„›å¥½è€…</option>
                    </select>
                </div>
                <button type="submit" class="cta-button full-width">è¨»å†Š</button>
            </form>
        </div>
    </div>

    <!-- Recipe Detail Modal -->
    <div id="recipeModal" class="modal">
        <div class="modal-content large">
            <span class="close" onclick="closeModal('recipeModal')">&times;</span>
            <div id="recipeContent"></div>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="recommendation.js"></script>
</body>
</html>